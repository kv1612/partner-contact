# This Marabunta migration file aims to provide an upgrade path from a core
# migrated database (only standard modules upgraded, see 'migration_core.yml'
# file) to a database migrated with all the external addons used by the
# instance (OCA, etc).
# It is used by the 'migrate-external' script.
migration:
  versions:
    - version: setup
      modes:
        migration:
          operations:
            pre:
              - psql -f odoo/migration/songs/generic/disable_addons_upgrade.sql
              - anthem migration.songs.generic::update_available_addons
              # ==== Put pre-scripts here ====
              # - anthem migration.songs.my_module::pre
              # ==============================
              - psql -f odoo/migration/songs/generic/enable_addons_upgrade.sql
            #post:
              # ==== Put post-scripts here ====
              # - anthem migration.songs.my_module::post
              # ===============================
      addons:
        upgrade:
          #### oca/account-closing
          - account_cutoff_accrual_picking
          - account_cutoff_base
          - account_invoice_start_end_dates
          #### oca/account-financial-reporting
          - account_financial_report
          #### oca/account-invoicing
          - account_invoice_base_invoicing_mode
          - account_invoice_mode_at_shipping
          - account_invoice_mode_monthly
          - account_invoice_section_sale_order
          - account_invoice_transmit_method
          - account_move_tier_validation
          #### oca/bank-payment
          - account_invoice_select_for_payment
          - account_payment_mode
          - account_payment_partner
          - account_payment_purchase
          - account_payment_purchase_stock
          - account_payment_sale
          #### oca/brand
          - product_brand
          #### oca/community-data-files
          - account_payment_unece
          - account_tax_unece
          - base_unece
          - uom_unece
          #### oca/connector
          - connector
          #### oca/connector-interfaces
          - connector_importer
          #### oca/connector
          - agreement
          - agreement_sale
          #### oca/ddmrp
          - ddmrp
          - ddmrp_adjustment
          - ddmrp_chatter
          - ddmrp_coverage_days
          - ddmrp_cron_actions_as_job
          - ddmrp_exclude_moves_adu_calc
          - ddmrp_history
          - ddmrp_packaging
          - ddmrp_product_replace
          - ddmrp_warning
          - stock_buffer_capacity_limit
          - stock_buffer_route
          - stock_buffer_sales_analysis
          #### ddmrp-professional
          - ddmrp_advanced_sizing
          - ddmrp_packaging_calculator
          - ddmrp_prioritized_share
          - ddmrp_prioritized_share_warning
          - ddmrp_responsible
          - ddmrp_workorder
          #### oca/delivery-carrier
          - delivery_carrier_pricelist
          - delivery_free_fee_removal
          - delivery_package_fee
          - delivery_send_to_shipper_at_operation
          - server_environment_delivery
          - stock_picking_delivery_link
          #### oca/e-commerce
          - product_variant_multi_link
          - product_template_multi_link
          - product_template_multi_link_date_span
          #### oca/edi
          - base_business_document_import
          - base_ubl
          - base_ubl_payment
          - partner_identification_import
          - sale_order_import
          - sale_order_import_ubl
          #### oca/hr-attendance
          - hr_attendance_report_theoretical_time
          #### oca/hr-holidays
          - hr_holidays_public
          #### oca/intrastat-extrastat
          - product_harmonized_system
          - product_harmonized_system_delivery
          - product_harmonized_system_stock
          #### oca/knowledge
          - document_page
          - knowledge
          #### oca/l10n-switzerland
          - l10n_ch_account_tags
          - l10n_ch_base_bank
          - l10n_ch_states
          #### oca/management-system
          - document_page_procedure
          - document_page_quality_manual
          - document_page_work_instruction
          - mgmtsystem
          - mgmtsystem_action
          - mgmtsystem_manual
          - mgmtsystem_nonconformity
          - mgmtsystem_review
          - mgmtsystem_survey
          #### oca/manufacture
          - mrp_bom_location
          - mrp_multi_level
          - mrp_warehouse_calendar
          #### oca/mis-builder
          - mis_builder
          - mis_builder_budget
          #### oca/partner-contact
          - base_location
          - base_location_geonames_import
          - base_partner_sequence
          - partner_company_group
          - partner_identification
          - partner_identification_unique_by_category
          - partner_tz
          #### oca/product-attribute
          - product_logistics_uom
          - product_packaging_dimension
          - product_packaging_type
          - product_packaging_type_pallet
          - product_packaging_type_required
          - product_total_weight_from_packaging
          #### oca/purchase-workflow
          - purchase_propagate_qty
          - purchase_order_line_packaging_qty
          - purchase_delivery_split_date
          #### oca/queue
          - queue_job
          #- queue_job_subscribe  # TODO to migrate
          #### oca/rest-framework
          - base_rest
          - rest_log
          #### oca/report-print-send
          - base_report_to_printer
          #### oca/reporting-engine
          - bi_sql_editor
          - report_xlsx
          #### oca/sale-reporting
          - sale_order_line_position
          #### oca/sale-workflow
          - sale_by_packaging
          - sale_order_disable_user_autosubscribe
          #### oca/search-engine
          - connector_algolia
          - connector_search_engine
          #### oca/server-auth
          - auth_api_key
          #### oca/server-tools
          - database_cleanup  # Used for project migrations
          #### oca/server-ux
          - base_technical_features
          #### oca/server-env
          - mail_environment
          - server_environment
          - server_environment_ir_config_parameter
          #### oca/social
          - email_template_qweb
          - mail_layout_preview
          - mail_inline_css
          #### oca/stock-logistics-reporting
          - delivery_line_sale_line_position
          #### oca/stock-logistics-transport
          - stock_dock
          #### oca/stock-logistics-warehouse
          - procurement_auto_create_group
          - stock_location_bin_name
          - stock_location_last_inventory_date
          - stock_location_position
          - stock_location_zone
          - stock_measuring_device
          - stock_measuring_device_zippcube
          - stock_orderpoint_manual_procurement
          - stock_orderpoint_purchase_link
          - stock_orderpoint_route
          - stock_packaging_calculator_packaging_type
          - stock_product_qty_by_packaging
          - stock_vertical_lift
          - stock_vertical_lift_server_env
          - stock_vertical_lift_storage_type
          #### oca/stock-logistics-workflow
          - delivery_package_default_shipping_weight
          #- delivery_total_weight_from_packaging  # TODO
          - stock_quant_package_dimension
          - stock_quant_package_dimension_total_weight_from_packaging
          - stock_putaway_hook
          #### oca/storage
          - storage_backend
          - storage_backend_s3
          - storage_backend_sftp
          - storage_file
          - storage_image
          - storage_image_product
          - storage_media
          - storage_media_product
          - storage_thumbnail
          #### oca/web
          - web_environment_ribbon
          #### oca/wms
          - delivery_carrier_preference
          - delivery_carrier_warehouse
          #- delivery_preference_glue_stock_picking_group  # TODO
          - shopfloor
          - shopfloor_base
          - shopfloor_batch_automatic_creation
          - shopfloor_checkout_sync
          - shopfloor_mobile
          - shopfloor_mobile_base
          - shopfloor_packing_info
          - shopfloor_workstation
          - shopfloor_workstation_mobile
          - stock_available_to_promise_release
          - stock_available_to_promise_release_dynamic_routing
          - stock_checkout_sync
          - stock_dynamic_routing
          - stock_dynamic_routing_reserve_rule
          - stock_move_source_relocate
          - stock_move_source_relocate_dynamic_routing
          - stock_picking_completion_info
          - stock_picking_consolidation_priority
          - stock_picking_type_shipping_policy
          - stock_reception_screen
          - stock_storage_type
          - stock_storage_type_buffer
          - stock_storage_type_putaway_abc
          #### shopinvader/odoo-shopinvader
          - base_url
          - shopinvader
          - shopinvader_algolia
          - shopinvader_assortment
          - shopinvader_cart_expiry
          - shopinvader_customer_multi_user
          - shopinvader_customer_multi_user_wishlist
          - shopinvader_customer_price
          - shopinvader_customer_validate
          - shopinvader_delivery_carrier
          - shopinvader_image
          - shopinvader_import_image
          - shopinvader_locomotive
          - shopinvader_locomotive_algolia
          - shopinvader_locomotive_sale_profile
          - shopinvader_locomotive_wishlist
          - shopinvader_notification_default
          - shopinvader_product_media
          - shopinvader_product_stock
          - shopinvader_product_stock_state
          - shopinvader_product_template_multi_link
          #- shopinvader_product_variant_multi_link # TODO to migrate
          - shopinvader_product_variant_selector
          #- shopinvader_sale_packaging             # TODO to migrate
          #- shopinvader_sale_packaging_wishlist    # TODO to migrate
          - shopinvader_sale_profile
          - shopinvader_search_engine
          - shopinvader_wishlist
          #### shopinvader/odoo-shopinvader-payment
          - invader_payment
          - invader_payment_manual
          - shopinvader_payment
          - shopinvader_payment_manual
