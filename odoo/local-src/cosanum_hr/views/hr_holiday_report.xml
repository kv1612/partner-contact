<?xml version="1.0"?>
<odoo>

    <record id="act_hr_employee_holiday_request_my_leaves" model="ir.actions.act_window">
        <field name="name">My Leaves</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hr.leave.report</field>
        <field name="src_model">hr.employee</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{
            'search_default_group_type': 1,
            'search_default_year': 1
        }</field>
        <field name="domain">[('holiday_type','=','employee'),('employee_id.user_id', '=', uid)]</field>
        <field name="search_view_id" ref="hr_holidays.view_hr_holidays_filter_report"/>
    </record>

    <menuitem
        id="menu_open_my_allocation"
        name="Summary"
        parent="hr_holidays.menu_hr_holidays_my_leaves"
        action="act_hr_employee_holiday_request_my_leaves"
        sequence="20"/>

    <!-- Hide original menu -->
    <function model="ir.ui.menu" name="write">
        <value model="ir.ui.menu" eval="[ref('hr_holidays.menu_open_company_allocation')]"/>
        <value eval="{'active': False}"/>
    </function>

</odoo>
